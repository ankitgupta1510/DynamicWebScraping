package web;

import java.io.IOException;
import java.util.HashMap;
import java.util.Map;
import org.jsoup.Connection;
import org.jsoup.Connection.Response;
import org.jsoup.Jsoup;

public class Apptest {
    public static void main(String[] args) throws IOException {
        String url = "https://www.coursera.org/graphql-gateway?opname=CareerRoleDataCollectionQuery";
        
        // Cookie Map बनाएं
        Map<String, String> cookies = new HashMap<>();
        cookies.put("__204u", "4920291506-1757479298394");
        cookies.put("usprivacy", "1---");
        cookies.put("OptanonConsent", "isGpcEnabled=0&datestamp=Wed+Sep+10+2025+15%3A13%3A15+GMT%2B0530+(India+Standard+Time)&version=202508.2.0&browserGpcFlag=0&isIABGlobal=false&hosts=&consentId=046c5860-cad0-4dc1-a027-dfa6355c3237&interactionCount=1&isAnonUser=1&landingPath=NotLandingPage&groups=C0001%3A1%2CC0004%3A1%2CC0002%3A1%2CC0003%3A1&AwaitingReconsent=false&geolocation=IN%3BTN");
        cookies.put("OneTrustWPCCPAGoogleOptOut", "false");
        
        try {
            Response res = Jsoup.connect(url)
                .userAgent("Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:142.0) Gecko/20100101 Firefox/142.0")
                .header("Accept", "application/json")
                .header("Content-Type", "application/json")
                .header("Accept-Encoding", "gzip, deflate, br, zstd")
                .header("Referer", "https://www.coursera.org/")
                .header("Origin", "https://www.coursera.org")
                .cookies(cookies)  // सभी cookies एक साथ pass करें
                .ignoreContentType(true)
                .method(Connection.Method.POST)
                .execute();
                
            System.out.println("Status: " + res.statusCode());
            System.out.println("Response: " + res.body());
            
        } catch (IOException e) {
            System.err.println("Error: " + e.getMessage());
        }
    }
}
