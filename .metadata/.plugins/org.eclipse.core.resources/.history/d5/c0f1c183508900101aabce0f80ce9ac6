package web;

import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.JsonNode;
import java.io.File;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.JsonNode;
import java.io.File;

public class Extarctjson {
    public static void main(String[] args) {
        try {
        	 ObjectMapper mapper = new ObjectMapper();
             JsonNode root = mapper.readTree(new File("data.json"));
             
             JsonNode catArray = root.get("catArray");
             
             // All category names print 
//             for (int i = 0; i < catArray.size(); i++) {
//                 String name = catArray.get(i).get("name").asText();
//                 System.out.println((i+1) + ". " + name);
//             }
             
             for (int i = 0; i < catArray.size(); i++) {
                 JsonNode category = catArray.get(i);
                 String name = category.get("name").asText();
                 
                 if (name.equals("Packaged Food")) {
                     System.out.println( name + " found!");
                     System.out.println("SEO Token: " + category.get("seoToken").asText());
                     System.out.println("Unique ID: " + category.get("uniqueId").asText());
                     
                     // Sub categories print karo
                     JsonNode subCats = category.get("subCatArray");
                     System.out.println("\nSub Categories:");
                     
                     for (int j = 0; j < subCats.size(); j++) {
                         JsonNode subCat = subCats.get(j);
                         String subName = subCat.get("name").asText();
                         System.out.println((j+1) + ". " + subName);
                     }
                     
                     break;
                 }}
           
            
        } catch (Exception e) {
            System.out.println("Error: " + e.getMessage());
        }
    }
}
