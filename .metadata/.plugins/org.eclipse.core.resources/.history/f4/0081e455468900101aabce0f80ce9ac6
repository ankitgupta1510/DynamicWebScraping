package web;

import java.util.ArrayList;
import java.util.List;

import org.jsoup.Connection;
import org.jsoup.Connection.Response;
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.select.Elements;

public class WebScrapper {

	public static void main(String[] args) {
		String url = "https://digital.dmart.in/api/v1/categories/@top?profile=details&storeId=10151";
//		String url ="https://digital.dmart.in/api/v1/categories/@top?profile=details&storeId=10151";
		int count=0;
		try {
			
			
			Response doc;
			doc = Jsoup
					.connect(url)
					.userAgent("Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:142.0) Gecko/20100101 Firefox/142.0")
					.header("Accept", "application/json, text/plain, */*")
					.header("Accept-Language", "en-US,en;q=0.5")
					.header("X-REQUEST-ID", "MDUwNzA2OTktOGIwZi00ZTY3LTlmOGQtNzAwOTliMzhjNTQyfHxTLTIwMjUwODI2XzE3MzEzN3x8MTA0NDk1NTc1")
					.header("d_info", "w-20250826_173137")
					.header("Origin", "https://www.dmart.in")
					.ignoreContentType(true).method(Connection.Method.GET).execute();
			
			System.out.println(doc.body());
			
			
//			
//			List<Element>elementList = new ArrayList();
//			
//			
//			Elements allDivs = doc.select("div");
//			System.out.println("Total divs found: " + allDivs.size());
//
//			Elements allElements = doc.select("*");
//			System.out.println("Total elements: " + allElements.size());
//			
//			System.out.println("Page title: " + doc.title());
//	        System.out.println("HTML length: " + doc.html().length());
	        
//	        
//	        Elements products1 = doc.select(".vertical-card_title__pMGg9");
//           
//            
//            System.out.println("Method 1 found: " + products1.size());
//           
//			
//			elementList.addAll(doc.getElementsByClass
//					("MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-1 mui-style-tuxzvu"));
//			
//			System.out.println((elementList.size()));
//			
//			
//			for(Element product:elementList) {
//	
//				String name = product.select(".vertical-card_title__pMGg9").text(); 
//			    String price = product.select(".price").text();
//			    System.out.println("Product: " + name + ", Price: " );
//				count++;
//			}
		}catch(Exception e){
			e.printStackTrace();
		}
		
		System.out.println(count);
	}

}
